var app=angular.module("shelleyApp",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(e,n){n.otherwise("default"),n.when("","default"),n.when("/","default"),e.state("default",{url:"/default",templateUrl:"./public/views/default.html"}).state("example",{url:"/example",templateUrl:"./public/views/example.html"}).state("introduce",{url:"/introduce",templateUrl:"./public/views/introduce.html"}).state("contect",{url:"/contect",templateUrl:"./public/views/contect.html",contorller:"ContectCtrl"})}]),app.controller("shelleyAppController",["$scope",function(e){e.title="shelleyframe",e.listData=[{name:"listitem1",icon:"icon-list",arrow:"icon-angle-right",second:[{name:"second-1"},{name:"second-2"},{name:"second-3"}]},{name:"listitem2",icon:"icon-info-sign",arrow:"icon-angle-right",second:[{name:"second-1"},{name:"second-2"},{name:"second-3"}]},{name:"listitem3",icon:"icon-info-sign",arrow:"icon-angle-right",second:[{name:"second-1"},{name:"second-2"},{name:"second-3"}]},{name:"listitem4",icon:"icon-info-sign",arrow:"icon-angle-right",second:[{name:"second-1"},{name:"second-2"},{name:"second-3"}]}],console.log(e)}]);
app.controller("ContectCtrl",function(o){console.log(o)});
app.directive("navTop",function(){return{restrict:"E",replace:!0,scope:{title:"=navtopTitle",iconright:"=iconright"},template:'<nav class="flex-box navtop"><div class="flex-item iconreback icon-angle-left" ng-click="returnback()"></div><div class="flex-item title">{{title}}</div><div class="flex-item iconright">{{iconright}}</div></nav>',link:function(e,i,s,t){e.returnback=function(){window.history.go(-1)}}}}),app.directive("navBottom",function(){return{restrict:"EA",replace:!0,scope:{},template:'<nav class="flex-box navbottom"><div class="flex-item flex-box-ver" ui-sref="default"><div class="icon-home flex-box"></div><p class="flex-box">首页</p></div><div class="flex-item flex-box-ver" ui-sref="example"><div class="icon-list flex-box"></div><p class="flex-box">举例</p></div><div class="flex-item flex-box-ver" ui-sref="introduce"><div class="icon-info-sign flex-box"></div><p class="flex-box">说明</p></div><div class="flex-item flex-box-ver" ui-sref="contect"><div class="icon-comments flex-box"></div><p class="flex-box">联系</p></div></nav>',link:function(e,i,s,t){}}}),app.directive("listView",function(){return{restrict:"E",replace:!0,scope:{listData:"="},template:'<ul class="listview" ng-click="showNextLevel($event)"><li class="item" ng-repeat="listitem in listData track by $index"><div class="icon {{listitem.icon}}"></div>{{listitem.name}}<div class="arrow {{listitem.arrow}}"></div><ul class="secondlevel"><li class="seconditem" ng-repeat="second in listitem.second track by $index">{{second.name}}</li></ul></li></ul>',link:function(e,i,s,t){var n=!1,a=!1;angular.forEach(e.listData,function(e,s){e.icon&&i[0].className.indexOf("hasIcon")<0&&(n=!0),e.arrow&&i[0].className.indexOf("hasArrow")<0&&(a=!0)}),n&&(i[0].className=i[0].className+" hasIcon"),a&&(i[0].className=i[0].className+" hasArrow",e.showNextLevel=function(e){console.log(e.srcElement);var s=(e.srcElement,e.srcElement.querySelector(".secondlevel"));if(s.className.indexOf("active")>0)s.className=s.className.split(" active").join("");else{for(var t=i[0].getElementsByClassName("item"),n=t.length,a=0;a<n;a++){var l=t[a].getElementsByTagName("ul")[0];l.className.indexOf("active")>0&&(l.className=l.className.split(" active").join(""))}s.className+=" active"}})}}}),app.directive("chatRoom",function(){return{redirect:"E",scope:{},link:function(e,i,s,t){var n=io.connect("http://127.0.0.1:3002");n.on("nameResult",function(e){var i;e.success?(i="you are now known as "+e.name+".",console.log("message=",i),document.getElementById("guestname").innerHTML=i):i=e.message}),n.on("joinResult",function(e){document.getElementById("room").innerHTML=e.room}),e.sendMessage=function(){var e={room:"Lobby",text:document.getElementById("user_input").value};n.emit("message",e)},n.on("message",function(e){var i=document.createElement("p");i.innerHTML=e.text,document.getElementById("message").appendChild(i)})}}});
console.log("util");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXIuanMiLCJkaXJlY3RpdmUuanMiLCJ1dGlsLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsIndoZW4iLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udG9ybGxlciIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJ0aXRsZSIsImxpc3REYXRhIiwibmFtZSIsImljb24iLCJhcnJvdyIsInNlY29uZCIsImNvbnNvbGUiLCJsb2ciLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJzY29wZSIsImljb25yaWdodCIsInRlbXBsYXRlIiwibGluayIsImVsZW0iLCJhdHRycyIsImNvbnRyb2xsZXJpbnN0YW5jZSIsInJldHVybmJhY2siLCJ3aW5kb3ciLCJoaXN0b3J5IiwiZ28iLCJoYXNJY29uIiwiaGFzQXJyb3ciLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwiY2xhc3NOYW1lIiwiaW5kZXhPZiIsInNob3dOZXh0TGV2ZWwiLCJlIiwic3JjRWxlbWVudCIsIm9VbFNlY29uZCIsInF1ZXJ5U2VsZWN0b3IiLCJzcGxpdCIsImpvaW4iLCJhTGkiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibGVuIiwibGVuZ3RoIiwiaSIsIm9TZWNVbCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicmVkaXJlY3QiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJvbiIsInJlc3VsdCIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInJvb20iLCJzZW5kTWVzc2FnZSIsInRleHQiLCJ2YWx1ZSIsImVtaXQiLCJwIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiQUFHQSxHQUFJQSxLQUFNQyxRQUFRQyxPQUFP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ekMsSUFBSXNCLFVBQVUsV0FBWSxXQUN4QixPQUNFbUMsU0FBVSxJQUNWaEMsU0FDQUcsS0FBTSxTQUFVSCxFQUFPSSxFQUFNQyxFQUFPQyxHQUNsQyxHQUFJMkIsR0FBU0MsR0FBR0MsUUFBUSx3QkFDeEJGLEdBQU9HLEdBQUcsYUFBYyxTQUFVQyxHQUNoQyxHQUFJQyxFQUNBRCxHQUFPRSxTQUNURCxFQUFVLHdCQUEwQkQsRUFBTzlDLEtBQU8sSUFDbERJLFFBQVFDLElBQUksV0FBWTBDLEdBQ3hCRSxTQUFTQyxlQUFlLGFBQWFDLFVBQVlKLEdBRWpEQSxFQUFVRCxFQUFPQyxVQUdyQkwsRUFBT0csR0FBRyxhQUFjLFNBQVVDLEdBQ2hDRyxTQUFTQyxlQUFlLFFBQVFDLFVBQVlMLEVBQU9NLE9BRXJEM0MsRUFBTTRDLFlBQWMsV0FDbEIsR0FBSU4sSUFDQUssS0FBTSxRQUNORSxLQUFNTCxTQUFTQyxlQUFlLGNBQWNLLE1BRWhEYixHQUFPYyxLQUFLLFVBQVdULElBRXpCTCxFQUFPRyxHQUFHLFVBQVcsU0FBVUUsR0FDN0IsR0FBSVUsR0FBSVIsU0FBU1MsY0FBYyxJQUMvQkQsR0FBRU4sVUFBWUosRUFBUU8sS0FDdEJMLFNBQVNDLGVBQWUsV0FBV1MsWUFBWUY7QUMzR3ZEckQsUUFBUUMsSUFBSSIsImZpbGUiOiJzaGVsbGV5ZnJhbWUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQWRtaW5pc3RyYXRvciBvbiAxNi04LTE3LlxyXG4gKi9cclxudmFyIGFwcD1hbmd1bGFyLm1vZHVsZShcInNoZWxsZXlBcHBcIixbJ3VpLnJvdXRlciddKTtcclxuYXBwLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwkdXJsUm91dGVyUHJvdmlkZXIpe1xyXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnZGVmYXVsdCcpO1xyXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLndoZW4oJycsJ2RlZmF1bHQnKTtcclxuICAgICR1cmxSb3V0ZXJQcm92aWRlci53aGVuKCcvJywnZGVmYXVsdCcpO1xyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAuc3RhdGUoJ2RlZmF1bHQnLHtcclxuICAgICAgICAgICAgdXJsOicvZGVmYXVsdCcsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOlwiLi9wdWJsaWMvdmlld3MvZGVmYXVsdC5odG1sXCJcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdGF0ZSgnZXhhbXBsZScse1xyXG4gICAgICAgICAgICB1cmw6Jy9leGFtcGxlJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6Jy4vcHVibGljL3ZpZXdzL2V4YW1wbGUuaHRtbCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdGF0ZSgnaW50cm9kdWNlJyx7XHJcbiAgICAgICAgICAgIHVybDonL2ludHJvZHVjZScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOicuL3B1YmxpYy92aWV3cy9pbnRyb2R1Y2UuaHRtbCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdGF0ZSgnY29udGVjdCcse1xyXG4gICAgICAgICAgICB1cmw6Jy9jb250ZWN0JyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6Jy4vcHVibGljL3ZpZXdzL2NvbnRlY3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRvcmxsZXI6J0NvbnRlY3RDdHJsJ1xyXG4gICAgICAgIH0pO1xyXG59KTtcclxuLy9ib2R5IGNvbnRyb2xsZXIgc2hlbGxleUFwcENvbnRyb2xsZXJcclxuYXBwLmNvbnRyb2xsZXIoJ3NoZWxsZXlBcHBDb250cm9sbGVyJyxmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgJHNjb3BlLnRpdGxlPVwic2hlbGxleWZyYW1lXCI7XHJcbiAgICAkc2NvcGUubGlzdERhdGE9W1xyXG4gICAgICAgIHtuYW1lOlwibGlzdGl0ZW0xXCIsaWNvbjpcImljb24tbGlzdFwiLGFycm93OidpY29uLWFuZ2xlLXJpZ2h0JyxzZWNvbmQ6W1xyXG4gICAgICAgICAgICB7bmFtZTonc2Vjb25kLTEnfSxcclxuICAgICAgICAgICAge25hbWU6J3NlY29uZC0yJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOidzZWNvbmQtMyd9XHJcbiAgICAgICAgXX0sXHJcbiAgICAgICAge25hbWU6XCJsaXN0aXRlbTJcIixpY29uOlwiaWNvbi1pbmZvLXNpZ25cIixhcnJvdzonaWNvbi1hbmdsZS1yaWdodCcsc2Vjb25kOltcclxuICAgICAgICAgICAge25hbWU6J3NlY29uZC0xJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOidzZWNvbmQtMid9LFxyXG4gICAgICAgICAgICB7bmFtZTonc2Vjb25kLTMnfVxyXG4gICAgICAgIF19LFxyXG4gICAgICAgIHtuYW1lOlwibGlzdGl0ZW0zXCIsaWNvbjpcImljb24taW5mby1zaWduXCIsYXJyb3c6J2ljb24tYW5nbGUtcmlnaHQnLHNlY29uZDpbXHJcbiAgICAgICAgICAgIHtuYW1lOidzZWNvbmQtMSd9LFxyXG4gICAgICAgICAgICB7bmFtZTonc2Vjb25kLTInfSxcclxuICAgICAgICAgICAge25hbWU6J3NlY29uZC0zJ31cclxuICAgICAgICBdfSxcclxuICAgICAgICB7bmFtZTpcImxpc3RpdGVtNFwiLGljb246XCJpY29uLWluZm8tc2lnblwiLGFycm93OidpY29uLWFuZ2xlLXJpZ2h0JyxzZWNvbmQ6W1xyXG4gICAgICAgICAgICB7bmFtZTonc2Vjb25kLTEnfSxcclxuICAgICAgICAgICAge25hbWU6J3NlY29uZC0yJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOidzZWNvbmQtMyd9XHJcbiAgICAgICAgXX1cclxuICAgIF07XHJcbiAgICAvKiRzY29wZS5saXN0RGF0YT1bXHJcbiAgICAgICAge25hbWU6XCJsaXN0aXRlbTFcIixpY29uOlwiaWNvbi1saXN0XCIsYXJyb3c6J2ljb24tYW5nbGUtcmlnaHQnfSxcclxuICAgICAgICB7bmFtZTpcImxpc3RpdGVtMlwiLGljb246XCJpY29uLWluZm8tc2lnblwiLGFycm93OidpY29uLWFuZ2xlLXJpZ2h0J30sXHJcbiAgICAgICAge25hbWU6XCJsaXN0aXRlbTNcIixpY29uOlwiaWNvbi1pbmZvLXNpZ25cIixhcnJvdzonaWNvbi1hbmdsZS1yaWdodCd9LFxyXG4gICAgICAgIHtuYW1lOlwibGlzdGl0ZW00XCIsaWNvbjpcImljb24taW5mby1zaWduXCIsYXJyb3c6J2ljb24tYW5nbGUtcmlnaHQnfVxyXG4gICAgXTsqL1xyXG4gICAgLyokc2NvcGUubGlzdERhdGE9W1xyXG4gICAgIHtuYW1lOlwibGlzdGl0ZW0xXCJ9LFxyXG4gICAgIHtuYW1lOlwibGlzdGl0ZW0yXCJ9LFxyXG4gICAgIHtuYW1lOlwibGlzdGl0ZW0zXCJ9LFxyXG4gICAgIHtuYW1lOlwibGlzdGl0ZW00XCJ9XHJcbiAgICAgXTsqL1xyXG4gICAgLyokc2NvcGUubGlzdERhdGE9W1xyXG4gICAgIHtuYW1lOlwibGlzdGl0ZW0xXCIsaWNvbjpcImljb24tbGlzdFwifSxcclxuICAgICB7bmFtZTpcImxpc3RpdGVtMlwiLGljb246XCJpY29uLWluZm8tc2lnblwifSxcclxuICAgICB7bmFtZTpcImxpc3RpdGVtM1wiLGljb246XCJpY29uLWluZm8tc2lnblwifSxcclxuICAgICB7bmFtZTpcImxpc3RpdGVtNFwiLGljb246XCJpY29uLWluZm8tc2lnblwifVxyXG4gICAgIF07Ki9cclxuICAgIGNvbnNvbGUubG9nKCRzY29wZSk7XHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFkbWluaXN0cmF0b3Igb24gMTYtOC0yOC5cclxuICovXHJcbi8vY29udGVjdCBjb250cm9sbGVyXHJcbmFwcC5jb250cm9sbGVyKFwiQ29udGVjdEN0cmxcIixmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgY29uc29sZS5sb2coJHNjb3BlKTtcclxuICAgIC8qdmFyIHNvY2tldD1pby5jb25uZWN0KFwiaHR0cDovLzEyNy4wLjAuMTozMDAyXCIpO1xyXG4gICAgc29ja2V0Lm9uKCduYW1lUmVzdWx0JywgZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgdmFyIG1lc3NhZ2U7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgPSAneW91IGFyZSBub3cga25vd24gYXMgJyArIHJlc3VsdC5uYW1lICsgJy4nO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbWVzc2FnZT0nLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2d1ZXN0bmFtZScpLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWVzc2FnZSA9IHJlc3VsdC5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgc29ja2V0Lm9uKCdqb2luUmVzdWx0JywgZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb20nKS5pbm5lckhUTUwgPSByZXN1bHQucm9vbTtcclxuICAgIH0pO1xyXG4gICAgJHNjb3BlLnNlbmRNZXNzYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XHJcbiAgICAgICAgICAgIHJvb206ICdMb2JieScsXHJcbiAgICAgICAgICAgIHRleHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyX2lucHV0JykudmFsdWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNvY2tldC5lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNvY2tldC5vbignbWVzc2FnZScsIGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2UudGV4dDtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpLmFwcGVuZENoaWxkKHApO1xyXG4gICAgfSk7Ki9cclxuXHJcbn0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEFkbWluaXN0cmF0b3Igb24gMTYtOC0yMC5cclxuICovXHJcbi8qKlxyXG4gKiBuYXZUb3BcclxuICogKi9cclxuYXBwLmRpcmVjdGl2ZSgnbmF2VG9wJyxmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJueyBcclxuICAgICAgICByZXN0cmljdDonRScsXHJcbiAgICAgICAgcmVwbGFjZTp0cnVlLFxyXG4gICAgICAgIHNjb3BlOntcclxuICAgICAgICAgICAgdGl0bGU6Jz1uYXZ0b3BUaXRsZScsXHJcbiAgICAgICAgICAgIGljb25yaWdodDonPWljb25yaWdodCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlbXBsYXRlOic8bmF2IGNsYXNzPVwiZmxleC1ib3ggbmF2dG9wXCI+JytcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXgtaXRlbSBpY29ucmViYWNrIGljb24tYW5nbGUtbGVmdFwiIG5nLWNsaWNrPVwicmV0dXJuYmFjaygpXCI+PC9kaXY+JytcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXgtaXRlbSB0aXRsZVwiPnt7dGl0bGV9fTwvZGl2PicrXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4LWl0ZW0gaWNvbnJpZ2h0XCI+e3tpY29ucmlnaHR9fTwvZGl2PicrXHJcbiAgICAgICAgJzwvbmF2PicsXHJcbiAgICAgICAgbGluazpmdW5jdGlvbihzY29wZSxlbGVtLGF0dHJzLGNvbnRyb2xsZXJpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIHNjb3BlLnJldHVybmJhY2s9ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuLy9tZW51Ym90dG9tXHJcbmFwcC5kaXJlY3RpdmUoJ25hdkJvdHRvbScsZnVuY3Rpb24oKXtcclxuICAgIHJldHVybntcclxuICAgICAgICByZXN0cmljdDonRUEnLFxyXG4gICAgICAgIHJlcGxhY2U6dHJ1ZSxcclxuICAgICAgICBzY29wZTp7fSxcclxuICAgICAgICB0ZW1wbGF0ZTonPG5hdiBjbGFzcz1cImZsZXgtYm94IG5hdmJvdHRvbVwiPicrXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJmbGV4LWl0ZW0gZmxleC1ib3gtdmVyXCIgdWktc3JlZj1cImRlZmF1bHRcIj4nK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaWNvbi1ob21lIGZsZXgtYm94XCI+PC9kaXY+JytcclxuICAgICAgICAnPHAgY2xhc3M9XCJmbGV4LWJveFwiPummlumhtTwvcD4nK1xyXG4gICAgICAgICc8L2Rpdj4nK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZmxleC1pdGVtIGZsZXgtYm94LXZlclwiIHVpLXNyZWY9XCJleGFtcGxlXCI+JytcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tbGlzdCBmbGV4LWJveFwiPjwvZGl2PicrXHJcbiAgICAgICAgJzxwIGNsYXNzPVwiZmxleC1ib3hcIj7kuL7kvos8L3A+JytcclxuICAgICAgICAnPC9kaXY+JytcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImZsZXgtaXRlbSBmbGV4LWJveC12ZXJcIiB1aS1zcmVmPVwiaW50cm9kdWNlXCI+JytcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImljb24taW5mby1zaWduIGZsZXgtYm94XCI+PC9kaXY+JytcclxuICAgICAgICAnPHAgY2xhc3M9XCJmbGV4LWJveFwiPuivtOaYjjwvcD4nK1xyXG4gICAgICAgICc8L2Rpdj4nK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZmxleC1pdGVtIGZsZXgtYm94LXZlclwiIHVpLXNyZWY9XCJjb250ZWN0XCI+JytcclxuICAgICAgICAnPGRpdiBjbGFzcz1cImljb24tY29tbWVudHMgZmxleC1ib3hcIj48L2Rpdj4nK1xyXG4gICAgICAgICc8cCBjbGFzcz1cImZsZXgtYm94XCI+6IGU57O7PC9wPicrXHJcbiAgICAgICAgJzwvZGl2PicrXHJcbiAgICAgICAgJzwvbmF2PicsXHJcbiAgICAgICAgbGluazpmdW5jdGlvbihzY29wZSxlbGVtLGF0dHJzLGNvbnRyb2xsZXJpbnN0YW5jZSl7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcbi8vbGlzdFxyXG5hcHAuZGlyZWN0aXZlKCdsaXN0VmlldycsZnVuY3Rpb24oKXtcclxuICAgIHJldHVybntcclxuICAgICAgICByZXN0cmljdDonRScsXHJcbiAgICAgICAgcmVwbGFjZTp0cnVlLFxyXG4gICAgICAgIHNjb3BlOntcclxuICAgICAgICAgICAgbGlzdERhdGE6Jz0nXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0ZW1wbGF0ZTonPHVsIGNsYXNzPVwibGlzdHZpZXdcIiBuZy1jbGljaz1cInNob3dOZXh0TGV2ZWwoJGV2ZW50KVwiPicrXHJcbiAgICAgICAgICAgICAgICAgICAgJzxsaSBjbGFzcz1cIml0ZW1cIiBuZy1yZXBlYXQ9XCJsaXN0aXRlbSBpbiBsaXN0RGF0YSB0cmFjayBieSAkaW5kZXhcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpY29uIHt7bGlzdGl0ZW0uaWNvbn19XCI+PC9kaXY+JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3t7bGlzdGl0ZW0ubmFtZX19JytcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJhcnJvdyB7e2xpc3RpdGVtLmFycm93fX1cIj48L2Rpdj4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHVsIGNsYXNzPVwic2Vjb25kbGV2ZWxcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bGkgY2xhc3M9XCJzZWNvbmRpdGVtXCIgbmctcmVwZWF0PVwic2Vjb25kIGluIGxpc3RpdGVtLnNlY29uZCB0cmFjayBieSAkaW5kZXhcIj57e3NlY29uZC5uYW1lfX08L2xpPicrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L3VsPicrXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvbGk+JytcclxuICAgICAgICAgICAgICAgICc8L3VsPicsXHJcbiAgICAgICAgbGluazpmdW5jdGlvbihzY29wZSxlbGVtLGF0dHJzLGNvbnRyb2xsZXJpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBqdWRnZSB3aGljaCBraW5kIG9mIGxpc3R2aWV3IHRvIHNob3dcclxuICAgICAgICAgICAgICogaGFzSWNvbiBtZWFucyBsaXN0dmlldyBpdGVtIGhhcyBpY29uIG9uIGxlZnRcclxuICAgICAgICAgICAgICogaGFzQXJyb3cgbWVhbnMgbGlzdHZpZXcgaXRlbSBoYXMgYXJyb3cgb24gcmlnaHQgYW5kIHdpbGwgaGF2ZSBjaGlsZCBsZXZlbFxyXG4gICAgICAgICAgICAgKiAqKi9cclxuICAgICAgICAgICAgdmFyIGhhc0ljb249ZmFsc2UsaGFzQXJyb3c9ZmFsc2U7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzY29wZS5saXN0RGF0YSxmdW5jdGlvbihpdGVtLGluZGV4KXtcclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0uaWNvbiYmZWxlbVswXS5jbGFzc05hbWUuaW5kZXhPZignaGFzSWNvbicpPDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc0ljb249dHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0uYXJyb3cmJmVsZW1bMF0uY2xhc3NOYW1lLmluZGV4T2YoJ2hhc0Fycm93Jyk8MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzQXJyb3c9dHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmKGhhc0ljb24pe1xyXG4gICAgICAgICAgICAgICAgZWxlbVswXS5jbGFzc05hbWU9ZWxlbVswXS5jbGFzc05hbWUrXCIgaGFzSWNvblwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGhhc0Fycm93KXtcclxuICAgICAgICAgICAgICAgIGVsZW1bMF0uY2xhc3NOYW1lPWVsZW1bMF0uY2xhc3NOYW1lK1wiIGhhc0Fycm93XCI7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5zaG93TmV4dExldmVsPWZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUuc3JjRWxlbWVudCk7Ly9zaGlqaWFuZGFpbGkgemhhb2Rhb2NodWZhc2hpamlhbnl1YW5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgb0xpPSBlLnNyY0VsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9VbFNlY29uZD0gZS5zcmNFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWNvbmRsZXZlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG9VbFNlY29uZC5jbGFzc05hbWUuaW5kZXhPZignYWN0aXZlJyk+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9VbFNlY29uZC5jbGFzc05hbWU9b1VsU2Vjb25kLmNsYXNzTmFtZS5zcGxpdCgnIGFjdGl2ZScpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhTGk9ZWxlbVswXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpdGVtJyksbGVuPWFMaS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8bGVuO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb1NlY1VsPWFMaVtpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndWwnKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9TZWNVbC5jbGFzc05hbWUuaW5kZXhPZignYWN0aXZlJyk+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb1NlY1VsLmNsYXNzTmFtZT1vU2VjVWwuY2xhc3NOYW1lLnNwbGl0KCcgYWN0aXZlJykuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvVWxTZWNvbmQuY2xhc3NOYW1lKz1cIiBhY3RpdmVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5hcHAuZGlyZWN0aXZlKCdjaGF0Um9vbScsZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVkaXJlY3Q6XCJFXCIsXHJcbiAgICAgICAgc2NvcGU6e30sXHJcbiAgICAgICAgbGluazpmdW5jdGlvbihzY29wZSxlbGVtLGF0dHJzLGNvbnRyb2xsZXJpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgIHZhciBzb2NrZXQ9aW8uY29ubmVjdChcImh0dHA6Ly8xMjcuMC4wLjE6MzAwMlwiKTtcclxuICAgICAgICAgICAgc29ja2V0Lm9uKCduYW1lUmVzdWx0JywgZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAneW91IGFyZSBub3cga25vd24gYXMgJyArIHJlc3VsdC5uYW1lICsgJy4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNzYWdlPScsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdndWVzdG5hbWUnKS5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gcmVzdWx0Lm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzb2NrZXQub24oJ2pvaW5SZXN1bHQnLCBmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb29tJykuaW5uZXJIVE1MID0gcmVzdWx0LnJvb207XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzY29wZS5zZW5kTWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vbTogJ0xvYmJ5JyxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcl9pbnB1dCcpLnZhbHVlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHNvY2tldC5vbignbWVzc2FnZScsIGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgICAgICAgICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlLnRleHQ7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpLmFwcGVuZENoaWxkKHApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgQWRtaW5pc3RyYXRvciBvbiAxNi04LTExLlxuICovXG5jb25zb2xlLmxvZygndXRpbCcpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
